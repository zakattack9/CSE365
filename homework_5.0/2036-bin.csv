2036-bin,1,Skip to content,
2036-bin,2,Sign up,
2036-bin,3,Hosting,
2036-bin,4,Explore,
2036-bin,5,Explore GitHub →,
2036-bin,6,Learn & contribute,
2036-bin,7,Learning Lab,
2036-bin,8,Connect with others,
2036-bin,9,Compare plans,
2036-bin,10,Jump to,
2036-bin,11,Jump to,
2036-bin,12,Jump to,
2036-bin,13,Sign in,
2036-bin,14,Sign up,
2036-bin,15,Watch,
2036-bin,16,Fork,
2036-bin,17,Pull requests,
2036-bin,18,Pull requests,
2036-bin,19,Go to file,
2036-bin,20,Git stats,
2036-bin,21,Failed to load latest commit information.,
2036-bin,22,The teacher of your programming class gave you a tiny little task: just write a guess-my-number script that beats his script,
2036-bin,23,He also gave you some hard facts:,
2036-bin,24,he uses some LCG with standard glibc LCG parameters,(I)
2036-bin,25,the LCG is seeded with server time using number format YmdHMS (python strftime syntax),(I)
2036-bin,26,numbers are from 0 up to (including) 99,(I)
2036-bin,27,numbers should be sent as ascii string,(I)
2036-bin,28,You can find the service on school.fluxfingers.net:1523,
2036-bin,29,Pierwsze podejście do zadania polegało na implementacji opisanego w zadaniu LCG i próbie dopasowania wyników do zgadywanki z serwera,
2036-bin,30,Do zgadnięcia mamy zaledwie 100 liczb pod rząd a rozdzielczość zegara na serwerze to 1s,
2036-bin,31,"W związku z tym uznaliśmy, że prościej i szybciej będzie po prostu oszukiwać w tej grze :)",
2036-bin,32,"Wiemy że liczby generowane są przez LCG co oznacza, że dla danego seeda liczby do zgadnięcia są zawsze takie same",
2036-bin,33,W szczególności jeśli dwóch użytkowników połączy się w tej samej sekundzie to wszystkie 100 liczb do zgadnięcia dla nich będzie takie samo,
2036-bin,34,W każdej turze wszystkie wątki oprócz jednego czekają na liczbę do wysłania.,
2036-bin,35,"W każdej iteracji jeden wątek ""poświęca się"" wysyłając -1 jako odpowiedź, a następnie odbiera od serwera poprawną odpowiedź i informuje o niej pozostałe wątki.",
2036-bin,36,"W efekcie co turę ""tracimy"" jeden wątek, ale wszystkie pozostałe przechodzą do następnej tury podając poprawną odpowiedź.",
2036-bin,37,Każdy wątek realizuje poniższy kod:,
2036-bin,38,"if len(seeds) != 1:  # make sure we all start with the same seed, otherwise quit",
2036-bin,39,bar[i].wait() #wait on the barrier for all other threads,
2036-bin,40,if i == index:  # suicide thread,
2036-bin,41,for j in range(max - i - 1):  # tell everyone what is the right number,
2036-bin,42,thread 98 iteration 97 b'Correct! Guess the next one!\n',
2036-bin,43,thread 99 iteration 97 b'Correct! Guess the next one!\n',
2036-bin,44,thread 100 iteration 97 b'Correct! Guess the next one!\n',
2036-bin,45,"thread 98 iteration 98 b""Wrong! You lost the game",
2036-bin,46,The right answer would have been '38',
2036-bin,47,thread 99 iteration 98 b'Correct! Guess the next one!\n',
2036-bin,48,thread 100 iteration 98 b'Correct! Guess the next one!\n',
2036-bin,49,"thread 99 iteration 99 b""Wrong! You lost the game",
2036-bin,50,The right answer would have been '37',
2036-bin,51,"thread 100 iteration 99 b""Congrats! You won the game! Here's your present:\nflag{don't_use_LCGs_for_any_guessing_competition}""",
2036-bin,52,Initial attempt for this task was to implement described LCG and trying to match the output for the results on the server,(I)
2036-bin,53,But we instantly decided that there are too many possibilities and there is no point in wasting time for analysis when we can do it much easier.,(I) 51
2036-bin,54,We need to guess only 100 numbers in a row and the clock resolution on the server is just 1s,(I)
2036-bin,55,So we decided that it will be better and faster just to cheat the game :),(A) 54
2036-bin,56,We know that the numbers are generated with LCG which means that for given seed the numbers are always the same,(I)
2036-bin,57,"In particular, if two users connect at the same time the 100 numbers to guess will be identical",(I) 56
2036-bin,58,On top of that the server returns the expected number if we make a mistake.,(I)
2036-bin,59,Our solution was quite simple:,
2036-bin,60,"Run 101 threads, which will connect to the server at the same time.","(A) 55,57,58"
2036-bin,61,Synchronize the threads so that they all execute a single turn and the wait for the rest.,(A) 60
2036-bin,62,In each turn all threads but one are waiting for the number to send.,(A) 61
2036-bin,63,"In each turn one thread ""sacrifices himself"" sending -1 as answer, and the collects the correct number form server response and informs rest of the threads about it.",(A) 62
2036-bin,64,"As a result in each turn we ""lose"" one thread but all the others pass to the next round.",(A) 63
2036-bin,65,Eaach thread executes:,
2036-bin,66,"if len(seeds) != 1:  # make sure we all start with the same seed, otherwise quit",
2036-bin,67,bar[i].wait() #wait on the barrier for all other threads,
2036-bin,68,if i == index:  # suicide thread,
2036-bin,69,for j in range(max - i - 1):  # tell everyone what is the right number,
2036-bin,70,Complete script is here.,
2036-bin,71,We run the script and we get:,
2036-bin,72,thread 98 iteration 97 b'Correct! Guess the next one!\n',
2036-bin,73,thread 99 iteration 97 b'Correct! Guess the next one!\n',
2036-bin,74,thread 100 iteration 97 b'Correct! Guess the next one!\n',
2036-bin,75,"thread 98 iteration 98 b""Wrong! You lost the game",
2036-bin,76,The right answer would have been '38',
2036-bin,77,thread 99 iteration 98 b'Correct! Guess the next one!\n',
2036-bin,78,thread 100 iteration 98 b'Correct! Guess the next one!\n',
2036-bin,79,"thread 99 iteration 99 b""Wrong! You lost the game",
2036-bin,80,The right answer would have been '37',
2036-bin,81,"thread 100 iteration 99 b""Congrats! You won the game! Here's your present:\nflag{don't_use_LCGs_for_any_guessing_competition}""",
2036-bin,82,Help,
2036-bin,83,You can't perform that action at this time.,
2036-bin,84,You signed in with another tab or window,
2036-bin,85,Reload to refresh your session.,
2036-bin,86,You signed out in another tab or window,
2036-bin,87,Reload to refresh your session.,
2036-bin,88,We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.,
2036-bin,89,Learn more.,
2036-bin,90,Accept,
2036-bin,91,Reject,
2036-bin,92,We use optional third-party analytics cookies to understand how you use GitHub.com so we can build better products.,
2036-bin,93,You can always update your selection by clicking Cookie Preferences at the bottom of the page.,
2036-bin,94,"For more information, see our Privacy Statement.",
2036-bin,95,"We use essential cookies to perform essential website functions, e.g",
2036-bin,96,they're used to log you in.,
2036-bin,97,Learn more,
2036-bin,98,"We use analytics cookies to understand how you use our websites so we can make them better, e.g",
2036-bin,99,they're used to gather information about the pages you visit and how many clicks you need to accomplish a task.,
2036-bin,100,Learn more,
2036-bin,101,Accept,
2036-bin,102,Reject,